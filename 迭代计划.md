# 迭代计划

## 迭代总目标
通过分阶段迭代，先实现核心功能的稳定可用，再逐步优化用户体验并拓展功能，满足用户在个人及家庭账单管理上不断增长的需求，同时始终确保数据的本地化存储与安全。

## 第一阶段：基础可用期（V1.0 - V1.2，约 3 个月）
### 核心目标
完成核心功能闭环，确保本地化存储、多账户管理、基础分类与分析可用，验证产品核心价值。

### V1.0（首个可用版本）
- **必选功能**：
    - **账户管理**：支持创建个人账户/家庭组，添加支付宝、微信、现金等账户类型，标记使用者。
    - **资金分类树**：提供预设一级/二级分类，支持手动增删改查（基础自定义）。
    - **账单导入**：支持支付宝/微信账单 Excel/CSV 文件上传，自动识别字段，具备去重机制。
    - **分类关联**：基于预设关键词规则实现半自动关联（推荐分类，用户确认）。
    - **基础分析**：展示收支概览、分类占比（饼图）、月度趋势（折线图）。
    - **本地化存储**：使用 SQLite 数据库存储所有数据，支持应用锁（密码）。
- **上线标准**：核心流程无阻塞（导入 - 关联 - 分析可完成），数据本地存储稳定，无明显性能问题（如卡顿、闪退）。

### V1.1（1.0 发布后 1 个月）
- **核心目标**：优化分类关联效率，提升基础体验。
- **功能迭代**：
    - **分类关联优化**：支持用户手动添加“关键词 - 分类”规则（如“瑞幸→咖啡”），规则优先于预设。
    - **账单导入优化**：支持拍照识别账单截图（基础 OCR，识别交易时间、金额、描述）。
    - **分析功能优化**：新增“账户维度分析”（单账户收支明细、占比）。
    - **体验细节**：优化分类树编辑交互（如拖拽调整层级）、分析图表加载速度。
- **重点修复**：1.0 版本用户反馈的高频问题（如导入失败、分类选择繁琐等）。

### V1.2（1.1 发布后 1 个月）
- **核心目标**：完善基础功能，增强数据安全与管理能力。
- **功能迭代**：
    - **分类树增强**：支持分类标签化，为分类添加“必要支出”“可选消费”等标签，辅助筛选分析。
    - **账单管理优化**：支持按账户筛选账单流水，批量删除流水记录。
    - **数据安全增强**：支持“数据彻底删除”（删除后不可恢复）、备份文件加密。
    - **操作引导优化**：首次使用时增加关键功能引导提示（如账单导入、分类关联操作）。
- **验收标准**：新功能稳定运行，无数据丢失或错误问题，操作引导清晰易懂。

## 第二阶段：智能优化期（V2.0 - V2.2，约 3 个月）
### 核心目标
提升智能分类准确性，强化家庭场景体验，优化移动端交互细节。

### V2.0
- **核心迭代**：
    - **本地模型上线**：集成轻量化 NLP 模型（体积≤80MB），基于交易描述和用户历史关联记录，推荐 1 - 3 个分类（展示推荐度）。
    - **模型本地学习**：用户手动修正分类后，模型本地记录该关联（仅用本地数据，不上传），下次同类交易优先推荐。
    - **家庭场景强化**：
        - 家庭组支持“成员权限设置”（如孩子账户仅父母可见）。
        - 新增“家庭汇总分析”（所有账户总收支、共同支出分类占比）。
    - **交互优化**：首页重构（突出“导入账单”“今日收支”快捷入口），支持左右滑动切换账户视图。
- **验收标准**：模型推荐准确率≥60%（基于内部测试，常见商户如美团、滴滴的分类推荐正确），无明显增加设备耗电，家庭场景功能满足需求，交互流畅。

### V2.1
- **核心迭代**：
    - **模型优化**：升级本地模型（加入用户手动规则权重），推荐准确率提升至 75% +；支持用户手动关闭模型推荐（仅用自定义规则）。
    - **分类树高级功能**：支持分类批量编辑（如批量修改标签）、分类数据迁移（将 A 分类的所有流水迁移到 B 分类）。
    - **账单管理优化**：支持按“账户 + 时间”筛选流水，批量编辑分类（如选中 10 笔流水统一修改分类）。
    - **模型反馈机制**：用户可对推荐结果“标记错误”，系统记录并针对性优化（如“该推荐错误，原因：商户名称识别偏差”）。
- **验收标准**：模型准确率达标，高级功能操作便捷，数据处理准确无误，模型反馈机制有效。

### V2.2
- **核心迭代**：
    - **离线性能优化**：压缩模型体积（≤60MB），减少内存占用；优化大数据量（如 1 年账单）的分析计算速度（≤3 秒）。
    - **个性化分析标签**：基于消费数据生成用户标签（如“高频外卖用户”“周末购物达人”），并展示标签相关的趋势分析。
    - **导出功能**：支持将分析结果导出为图片（本地保存到相册）。
- **验收标准**：离线性能优化显著，个性化分析标签准确且有价值，导出功能稳定可用。

## 第三阶段：功能拓展期（V3.0 - V3.2，约 3 个月）
### 核心目标
拓展财务管理场景，增加用户留存点，提升产品竞争力。

### V3.0
- **核心迭代**：预算管理功能（本地化实现）：
    - 支持为分类/账户设置月度预算（如“餐饮月预算 2000 元”）。
    - 实时展示预算使用进度（如“已用 80%”），超预算时本地弹窗提醒。
    - 预算分析：对比实际支出与预算的差异，展示“超支分类”及原因。
- **验收标准**：预算管理功能准确可靠，提醒及时，分析结果清晰易懂。

### V3.1
- **核心迭代**：
    - **多设备数据同步（可选，本地化可控）**：支持通过“本地备份文件”在用户自有设备间同步（如手机→平板），备份文件需密码解密；同步范围可选择（如仅同步账单数据，不同步账户信息）。
    - **模型再次升级**：引入用户消费周期特征（如“每周五买菜”），提升周期性交易的分类准确率。
- **验收标准**：多设备同步功能稳定，数据传输安全，模型准确率进一步提升。

### V3.2
- **核心迭代**：
    - **高级分析功能**：
        - 消费习惯对比：如“工作日 vs 周末消费差异”“本月 vs 去年同期分类支出变化”。
        - 自定义报表：支持用户选择时间、分类、账户组合生成报表（如“2024 年 Q1 爸爸的交通支出报表”）。
    - **交互个性化**：支持用户自定义首页展示模块（如优先展示“预算进度”或“家庭汇总”）。
- **验收标准**：高级分析功能满足用户深度分析需求，交互个性化设置便捷且符合用户习惯。

## 迭代优先级原则
1. **用户痛点优先**：每个版本优先修复上一版本的高频问题（如导入失败、模型推荐错误）。
2. **核心场景闭环**：确保“导入 - 关联 - 分析”主流程无断点，再拓展次要功能（如报表导出）。
3. **本地化体验底线**：所有功能迭代需满足“离线可用”“数据不泄露”，不牺牲隐私换功能。
4. **设备兼容性**：优先适配主流机型（如安卓中高端、iPhone），再逐步覆盖低端设备。